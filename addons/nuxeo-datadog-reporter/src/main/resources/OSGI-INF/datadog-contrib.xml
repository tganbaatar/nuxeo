<component name="org.nuxeo.datadog.contrib">

  <extension target="org.nuxeo.datadog.service"
    point="configuration">

    <configuration>
      <apiKey>${datadog.apikey:=}</apiKey>
      <host>${datadog.host:=}</host>
      <pollInterval>${datadog.pollinterval:=60}</pollInterval>
      <tags>${datadog.tags:=nuxeo}</tags>

      <filter method="substring">
        <includes>
          <include>jvm.</include>
          <include>nuxeo.</include>
        </includes>
        <excludes>
          <exclude>jvm.useless</exclude>
        </excludes>
        <expansions>
          <expansion>p999</expansion>
          <expansion>p99</expansion>
          <expansion>p95</expansion>
          <expansion>sum</expansion>
          <expansion>m15_rate</expansion>
          <expansion>m5_rate</expansion>
          <expansion>mean_rate</expansion>
        </expansions>
      </filter>


    </configuration>

  </extension>

</component>
